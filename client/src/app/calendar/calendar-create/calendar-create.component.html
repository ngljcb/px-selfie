<div class="modal-overlay">
  <div class="modal-container">
    <div class="calendar-create-wrapper">
      <form (ngSubmit)="onSubmit()">
        <h2>Nuovo {{ type }}</h2>

        <div class="form-grid">
          <div>
            <label>Tipo:</label>
            <select [(ngModel)]="type" name="type">
              <option value="evento">Evento</option>
              <option value="attività">Attività</option>
            </select>
          </div>

          <div>
            <label>Titolo:</label>
            <input [(ngModel)]="title" name="title" required />
          </div>

          <div>
            <label>Luogo:</label>
            <input [(ngModel)]="location" name="location" />
          </div>

          <div class="row-group">
            <div>
              <label>Data:</label>
              <input type="date" [(ngModel)]="dataInizio" name="dataInizio" required />
            </div>
            <div>
              <label>Data fine (opzionale):</label>
              <input type="date" [(ngModel)]="dataFine" name="dataFine" />
            </div>
          </div>

          <div class="row-group">
            <div>
              <label>Orario:</label>
              <input type="time" [(ngModel)]="time" name="time" />
            </div>
            <div>
              <label>Durata (ore):</label>
              <input type="number" min="1" [(ngModel)]="duration" name="duration" />
            </div>
          </div>

          <div class="checkbox-row">
            <input type="checkbox" [(ngModel)]="isRecurring" name="isRecurring" />
            <label for="isRecurring">Evento ricorrente</label>
          </div>

          <div *ngIf="isRecurring" class="row-group">
            <div>
              <label>Frequenza:</label>
              <select [(ngModel)]="frequenza" name="frequenza">
                <option value="">Seleziona</option>
                <option value="giornaliera">Giornaliera</option>
                <option value="settimanale">Settimanale</option>
                <option value="mensile">Mensile</option>
              </select>
            </div>
            <div>
              <label>Numero ripetizioni:</label>
              <input type="number" min="1" [(ngModel)]="ripetizioni" name="ripetizioni" />
            </div>
          </div>

          <div *ngIf="isRecurring">
            <label>Oppure fino al:</label>
            <input type="date" [(ngModel)]="fineRicorrenza" name="fineRicorrenza" />
          </div>
        </div>

        <div class="button-row">
          <button type="submit">Salva</button>
        </div>
      </form>
    </div>
  </div>
</div>