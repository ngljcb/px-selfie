<!-- note-viewer.component.html - SIMPLIFIED VERSION -->

<!-- Modal Backdrop -->
<div *ngIf="isOpen && note" 
     class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"
     (click)="onBackdropClick($event)">
  
  <!-- Modal Content -->
  <div class="bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] flex flex-col"
       (click)="$event.stopPropagation()">
    
    <!-- Header with title and close button -->
    <header class="flex items-start justify-between p-6 border-b border-gray-200">
      <div class="flex-1 min-w-0 mr-4">
        <h1 class="text-2xl font-bold text-gray-900 break-words">
          {{ getDisplayTitle() }}
        </h1>
      </div>
      
      <!-- Close button -->
      <button
        (click)="closeModal()"
        class="flex-shrink-0 p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"
        title="Close">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </header>

    <!-- Content -->
    <div class="flex-1 overflow-y-auto p-6">
      <div class="prose prose-gray max-w-none" 
           [innerHTML]="getFormattedContent()">
      </div>
    </div>
  </div>
</div>

<!-- CSS for styling -->
<style>
  /* Custom prose styling for note content */
  .prose {
    line-height: 1.6;
    color: #374151;
  }
  
  .prose p {
    margin-bottom: 1rem;
  }
  
  .prose h1,
  .prose h2,
  .prose h3 {
    margin-top: 1.5rem;
    margin-bottom: 0.5rem;
    font-weight: 600;
  }
  
  .prose code {
    background-color: #f3f4f6;
    padding: 0.125rem 0.25rem;
    border-radius: 0.25rem;
    font-size: 0.875rem;
    font-family: 'Courier New', monospace;
  }
  
  .prose a {
    color: #2563eb;
    text-decoration: none;
  }
  
  .prose a:hover {
    text-decoration: underline;
  }
  
  /* Responsive adjustments */
  @media (max-width: 768px) {
    .max-w-4xl {
      max-width: 100%;
      margin: 0.5rem;
    }
  }
</style>